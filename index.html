<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Kalkulačka inkluze</title>
  <meta name="description"
    content="Odhadněte, kolik lidí může mít zdravotní postižení, poruchu nebo jiné charakteristiky, které mohou ovlivnit způsob, jakým využívají vaše služby.">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Firefox */
    input[type=number] {
      -moz-appearance: textfield;
    }
</style>
</head>
<body class="antialised">
  <header class="bg-white mx-auto max-w-4xl py-16">
    <div class="grid grid-cols-1 gap-6 sm:grid-cols-3 items-center">
      <div class="col-span-2">
        <h1 class="text-4xl font-bold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl">
        Kalkulačka inkluze</h1>
      </div>

      <p class="text-gray-900 font-bold">Odhadněte, kolik lidí může mít zdravotní postižení, poruchu nebo jiné charakteristiky, které mohou ovlivnit způsob, jakým využívají vaše služby.</p>
    </div>
  </header>
  
  <div class="mx-auto max-w-4xl p-8 mt-12 bg-gray-50 border border-gray-50 rounded-lg">
    <div class="">
      <form id="calculator" action="#">
        <label for="population"  class="block mb-4 text-3xl font-medium text-gray-900">Kolik lidí může vaši službu využívat</label>
        <input id="population" type="number" class="bg-white border border-gray-300 text-gray-900 text-m rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-45 p-2.5 mb-6">
    
        <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">Vypočítat</button>
      </form>
    </div>
    
    <div id="results" class="mt-4 text-lg mb-12"></div>
  
  
  </div>

  <footer class="bg-gray-50 text-gray-900 text-center p-2 fixed bottom-0 left-0 right-0">
    vytvořil <a href="https://github.com/hlavsa/kalkulacka-inkluze" class="font-medium text-grey-900  hover:underline">hlavsa</a>.
  </footer>

  <script type="text/javascript">
    //const population = 10850000;

      const rates = {
        visionDisability: 1.46,
        mentalHealthImpairment: 2,
        dexterityImpairment: "",
        anyDisability: "",
        hearingLoss: 0.068,
        lowLiteracy: 0.05,
        anxietyDisorder: "",
        learningImpairment: 3,
        memoryImpairment: "",
        dyslexia: 5.1,
        notFirstLanguage: 14.0,
        colourVisionDeficiencyM: "",
        adhd0To19: "",
        adhd20Plus: "",
        autism: 1.5,
        colourVisionDeficiencyF: "",
        signLanguageUsers: 0.068,
      };

      const names = {
        visionDisability: "Zrakové postižení",
        mentalHealthImpairment: "Mentální postižení",
        dexterityImpairment: "Tělesné postižení",
        anyDisability: "Jakékoli zdravotní postižení",
        hearingLoss: "Ztráta sluchu",
        lowLiteracy: "Nízká gramotnost",
        anxietyDisorder: "Úzkostná porucha",
        learningImpairment: "Porucha učení",
        memoryImpairment: "Porucha paměti",
        dyslexia: "Dyslexie",
        notFirstLanguage: "Čeština není prvním jazykem",
        colourVisionDeficiencyM: "Nedostatek barevného vidění (muž)",
        adhd0To19: "ADHD (věk 0-19)",
        adhd20Plus: "ADHD (věk 20+)",
        autism: "Autismus",
        colourVisionDeficiencyF: "Porucha barevného vidění (žena)",
        signLanguageUsers: "Mluvčí českého znakového jazyka",
      };

      const sources = {
        visionDisability:
          "https://poslepu.cz/kolik-je-v-ceske-republice-zrakove-postizenych-lidi/",
        mentalHealthImpairment: "htt",
        dexterityImpairment: "htt",
        anyDisability: "htt",
        hearingLoss:
          "https://www.cun.cz/cs/blog/2017/05/17/statistiky-poctu-osob-se-sluchovym-postizenim/",
        lowLiteracy: "htt",
        anxietyDisorder: "htt",
        learningImpairment: "Bez zdroje",
        memoryImpairment: "htt",
        dyslexia:
          "https://karolinum.cz/data/clanek/2247/PPP_3_4_2015%20kejrova%2075-87.pdf",
        notFirstLanguage: "https://www.scitani.cz/matersky-jazyk",
        colourVisionDeficiencyM: "htt",
        adhd0To19: "htt",
        adhd20Plus: "htt",
        autism: "https://www.nautis.cz/autismus",
        colourVisionDeficiencyF: "htt",
        signLanguageUsers:
          "https://www.cun.cz/cs/blog/2017/05/17/statistiky-poctu-osob-se-sluchovym-postizenim/",
      };

      // DOM elements
      const form = document.getElementById("calculator");
      const results = document.getElementById("results");

      // Handle form submit
      form.addEventListener("submit", (e) => {
        e.preventDefault();

        // Get input value
        const population = parseInt(form.population.value);

        // Create searched number message
        let message = `
    <p class="text-gray-900 text-m py-8">Výsledky pro <strong>${population}</strong> lidí.</p>

    <p class="text-gray-900 text-m pb-4">Tyto výsledky využívají údaje z několika zdrojů a lidé mohou spadat do jednoho nebo více kritérií, proto se čísla nebudou sčítat do ${population}.</p>
  `;
        // Output message
        results.innerHTML = `
    <div class="text-m text-gray-900">
      ${message}  
    </div>
  `;

        // Output string
        // Create results output
        let output = `
  <h2 class="mt-4 text-2xl font-bold border-t-2 pt-8 pb-8">Zdravotní postižení, poruchy a stavy</h2>
  <table class="border-collapse table-auto w-full text-sm text-left text-gray-500 ">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
      <tr>
        <th scope="col" class="px-6 py-3">Opatření</th>
        <th scope="col" class="px-6 py-3">Odhadovaný počet</th>
        <th scope="col" class="px-6 py-3">Zdroj</th>
      </tr>
    </thead>
`;

        // Calculate estimates
        for (let disability in rates) {
          const count = population * (rates[disability] / 100);

          // Add table row for each disability
          output += `
    <tbody>
      <tr class="bg-white border-b">
        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap ">${names[disability]
            }</th>  
        <td class=" px-6 py-4">${Math.round(count)}</td>
        <td class=" px-6 py-4"><a class="font-medium text-blue-600  hover:underline" href="${sources[disability]
            }">Přejít na zdroj</a></td>

        </tr>
      </tbody>
    `;
        }

        // Close table
        output += `</table>`;

        // Display message above table
        results.innerHTML += output;
      });

  </script>
  
</body>
</html>